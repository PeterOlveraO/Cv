---
const { data } = Astro.props;
---

<header>
  <div class="profile-header">
    <div class="profile-photo-container">
      {data.fotoPerfil && (
        <img src={data.fotoPerfil} alt={`Foto de ${data.nombre}`} class="profile-photo" />
      )}
    </div>
    <div class="profile-info">
      <h1>{data.nombre}</h1>
      <p class="subtitle">{data.titulo}</p>
    </div>
  </div>
  
  {data.descripcionPersonal && (
    <div class="personal-description">
      <p>{data.descripcionPersonal}</p>
    </div>
  )}
  
  <div class="contact-info">
    <div class="contact-item">
      <span class="contact-icon">üìß</span>
      <a href={`mailto:${data.contacto.email}`} class="contact-link">{data.contacto.email}</a>
    </div>
    <div class="contact-item">
      <span class="contact-icon">üì±</span>
      <span>{data.contacto.telefono}</span>
    </div>
    <div class="contact-item">
      <span class="contact-icon">üîó</span>
      <a href={`https://${data.contacto.linkedin.replace(/^https?:\/\//, '')}`} target="_blank" rel="noopener noreferrer" class="contact-link">{data.contacto.linkedin}</a>
    </div>
    <div class="contact-item">
      <span class="contact-icon">üìç</span>
      <span>{data.contacto.ubicacion}</span>
    </div>
  </div>
</header>

<style>
  .profile-header {
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .profile-photo-container {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid var(--color-primary);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  }
  
  .profile-photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .profile-info {
    flex: 1;
    min-width: 250px;
    text-align: center;
  }
  
  .personal-description {
    margin: 1.5rem 0;
    text-align: center;
    max-width: 80%;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.7;
    font-size: 1.05rem;
    color: var(--color-text);
  }
  
  .contact-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.3rem;
  }
  
  .contact-link {
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.2s ease, text-decoration 0.2s ease;
    position: relative;
  }
  
  .contact-link:hover {
    color: var(--color-secondary);
  }
  
  .contact-link::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background-color: var(--color-secondary);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s ease;
  }
  
  .contact-link:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }
  
  @media (max-width: 768px) {
    .profile-header {
      flex-direction: column;
      gap: 1rem;
    }
    
    .profile-info {
      text-align: center;
    }
    
    .personal-description {
      max-width: 100%;
    }
  }
</style>
